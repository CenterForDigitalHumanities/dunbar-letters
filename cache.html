<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Dunbar Letter</title>
        <link rel="stylesheet" href="css/gloss.css">
        <link href="favicon.ico" rel="icon" type="image/x-icon" />
    </head>
    <body>
        <img src="media/logo.jpg" alt="logo" class="is-full-width">
        <input type="button" value="Run Test" onclick="run()" />
        <img id="inboxlogo" />
    </body>
    <script>
        const CACHE_CONTROL = "default"
        async function run(){

            // TPEN project 4080.  Can add Cache-Control to
            let a_start = performance.now()
            let a = await fetch("http://165.134.105.25:8181/TPEN28/project/4080", {
                method: "GET",
                cache: CACHE_CONTROL,
                mode: "cors"
            })
            .then(r => r.json())
            let a_end = performance.now()
            let a_time = a_end - a_start
            console.log("Project 4080 took "+a_time+"ms.")

            let b_start = performance.now()
            let b = await fetch("http://devstore.rerum.io/v1/id/6081ee59a0e7066822d87e6c", {
                method: "GET",
                cache: CACHE_CONTROL,
                mode: "cors"
            }) 
            .then(r => r.json())
            let b_end = performance.now()
            let b_time = b_end - b_start
            console.log("The list from RERUM took "+b_time+"ms.")

            let q = {"type":"Person"}
            let c_start = performance.now()
            let c = await fetch("http://tinydev.rerum.io/app/query", {
                method: "POST",
                cache: CACHE_CONTROL,
                mode: "cors",
                body: JSON.stringify(q)
            }) 
            .then(r => r.json())
            let c_end = performance.now()
            let c_time = c_end - c_start
            console.log("The query through TT to RERUM took "+c_time+"ms.")
            
            let d_start = performance.now()
            let d = await fetch("http://165.134.105.25:8181/TPEN28/getDunbarProjects", {
                method: "GET",
                cache: CACHE_CONTROL,
                mode: "cors"
            }) 
            .then(r => r.json())
            let d_end = performance.now();
            let d_time = d_end - d_start
            console.log("Getting Dunbar Projects took "+d_time+"ms.")

            let e_start = performance.now()
            let e = await fetch("https://preview.iiif.io/api/georef/extension/georef/vocab/new-terms.md", {
                method: "GET",
                cache: CACHE_CONTROL,
                mode: "cors"
            }) 
            .then(r => r.text())
            let e_end = performance.now();
            let e_time = e_end - e_start
            console.log("Getting file from bucket took "+d_time+"ms.")
            console.log(e)

        }

    </script>
</html>
